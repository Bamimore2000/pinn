// This is your Prisma schema file
// Learn more: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              Int       @id @default(autoincrement())
  email           String    @unique
  phone           String    @unique
  password        String
  otp             String?

  // --- Added bank metadata fields ---
  firstName       String
  lastName        String
  middleName      String?
  dateOfBirth     DateTime?
  gender          String?
  address         String?
  city            String?
  state           String?
  country         String?
  ssn             String?
  occupation      String?
  employerName    String?
  maritalStatus   String?
  accountNumber   String?   @unique
  accountType     String?
  balance         Decimal?  @default(0.00)
  currency        String?   @default("NGN")
  isVerified      Boolean   @default(false)
  kycLevel        String?
  profileImageUrl String?

  // âœ… Newly added
  hasPaidTransferFee Boolean @default(false)

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model Payment {
  id            Int      @id @default(autoincrement())

  // Zelle fields
  zelleEmail    String?  
  zellePhone    String?  

  // CashApp fields
  cashAppUsername String?  // $Cashtag
  cashAppEmail    String?  

  // Chime fields
  chimeEmail       String?  
  chimePhone       String?  
  chimeAccountName String?  
  chimeAccountNumber String?  
  chimeRoutingNumber String?  

  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

